(()=>{"use strict";var r={d:(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(r,t)=>Object.prototype.hasOwnProperty.call(r,t)};function t(r){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t(r)}function e(r,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,n(o.key),o)}}function n(r){var e=function(r,e){if("object"!=t(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var o=n.call(r,"string");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==t(e)?e:String(e)}r.d({},{T:()=>d,l:()=>h});var o=function(){function r(t){!function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.length=t,this.sunk=!1,this.hitIndex=0}var t,n;return t=r,(n=[{key:"hit",value:function(){this.hitIndex++,this.isSunk()}},{key:"isSunk",value:function(){this.hitIndex==this.length&&(this.sunk=!0)}}])&&e(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),r}();function i(r){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},i(r)}function a(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,u(n.key),n)}}function u(r){var t=function(r,t){if("object"!=i(r)||!r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var n=e.call(r,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==i(t)?t:String(t)}var l=function(){function r(){var t,e,n;!function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=this,e="board",n=Array.from({length:10},(function(){return new Array(10).fill(null)})),(e=u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,this.carrier=new o(5),this.battleship=new o(4),this.destroyer=new o(3),this.submarine=new o(3),this.patrolBoat=new o(2)}var t,e;return t=r,(e=[{key:"placeShip",value:function(r,t,e){var n=this;if(!function(r,t,e){for(var o=0;o<=r.length-1;o++)if(null!==n.board[t][e+o])return!1;return!0}(r,t,e))return"error";for(var o=0;o<=r.length-1;o++)this.board[t][e+o]=r}},{key:"receiveAttack",value:function(r,t){null===this.board[r][t]?this.board[r][t]="miss":(this.board[r][t].hit(),this.board[r][t]="hit")}},{key:"allSunk",value:function(){return!0===this.carrier.sunk&&!0===this.battleship.sunk&&!0===this.destroyer.sunk&&!0===this.submarine.sunk&&!0===this.patrolBoat.sunk}}])&&a(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();function c(r){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},c(r)}function s(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,b(n.key),n)}}function b(r){var t=function(r,t){if("object"!=c(r)||!r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var n=e.call(r,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==c(t)?t:String(t)}var f=function(){function r(t){!function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.name=t,this.board=new l}var t,e;return t=r,(e=[{key:"playTurn",value:function(r,t,e){r.board.receiveAttack(t,e)}},{key:"randomTurn",value:function(r){var t=Math.floor(10*Math.random()),e=Math.floor(10*Math.random());"miss"!==r.board.board[t][e]&&"hit"!==r.board.board[t][e]?this.playTurn(r,t,e):this.randomTurn(r)}}])&&s(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}(),p=function(r){var t=document.querySelector("body"),e=document.createElement("section");t.appendChild(e),e.classList.add("gridContainer"),e.classList.add(r.name);for(var n=0;n<=9;n++)for(var o=0;o<=9;o++){var i=document.createElement("div");i.classList.add("".concat(n).concat(o)),r.board.board[n][o],e.appendChild(i),y(i,r)}},y=function(r,t){var e;e="player1"===t.name?h:d,r.addEventListener("click",(function(n){t.playTurn(t,Number(r.getAttribute("class").charAt(0)),Number(r.getAttribute("class").charAt(1))),null!==e.board.board[Number(r.getAttribute("class").charAt(0))][Number(r.getAttribute("class").charAt(1))]?r.classList.add("ship"):r.classList.add("miss")}))},d=new f("player1"),h=new f("player2");d.board.placeShip(d.board.carrier,0,0),d.board.placeShip(d.board.battleship,1,0),d.board.placeShip(d.board.destroyer,2,0),d.board.placeShip(d.board.submarine,3,0),d.board.placeShip(d.board.patrolBoat,4,0),h.board.placeShip(d.board.carrier,0,1),h.board.placeShip(d.board.battleship,1,1),h.board.placeShip(d.board.destroyer,2,3),h.board.placeShip(d.board.submarine,3,4),h.board.placeShip(d.board.patrolBoat,4,2),p(d),p(h)})();